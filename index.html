<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en" x-data="{dark: true}" :data-theme="dark ? 'dark' : 'light'">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Team 20's scouting app">
		<title>Team 20 Scouting</title>
		<link rel="icon" href="light.svg">
		<link rel="preload" href="alpine.js" as="script">
		<link rel="preload" href="main.js" as="script">
		<link rel="stylesheet" href="pico.css">
		<link rel="manifest" href="manifest.json">
		<style>
			.off {
				background: var(--pico-form-element-background-color);
				border-color: var(--pico-form-element-border-color);
			}
			.red {
				background: red;
				border: red;
			}
			.wide {
				width: 100%;
			}
			.bottom {
				position: absolute;
				bottom: 0;
				left: 0;
			}
		</style>
	</head>
	<body class="container-fluid">
		<nav class="grid">
		    <button @click="$store.current.tab = 1">General</button>
		    <button @click="$store.current.tab = 2">Auto</button>
		    <button @click="$store.current.tab = 3">Teleop</button>
		    <button @click="$store.current.tab = 4">End</button>
		    <button @click="$store.current.tab = 5">Qr</button>
		    <button @click="$store.current.tab = 6">Data</button>
		</nav>
		<br>
		<div class="container" x-show="$store.current.tab == 1">
			<form>
				<label>
			      Name:
			      <input x-model="$store.current.matchInfo.name">
			    </label>
			    <label>
			      Match Type:
			      <select x-model="$store.current.matchInfo.matchType">
			      	<option value="0">Practice</option>
			      	<option value="1">Qualifications</option>
			      	<option value="2">Playoffs</option>
			      </select>
			    </label>
			    <label>
			      Match Number:
			      <input x-model="$store.current.matchInfo.matchNum" type="number">
			    </label>
			    <label>
			      Replay?
			      <input x-model="$store.current.matchInfo.isReplay" type="checkbox">
			    </label>
			    <label>
			      Alliance:
			      <select x-model="$store.current.matchInfo.alliance">
			      	<option value="R">Red</option>
			      	<option value="B">Blue</option>
			      </select>
			    </label>
			    <label>
			      Starting Position:
			      <select x-model="$store.current.matchInfo.startingPosition">
			      	<option value="1">1</option>
			      	<option value="2">2</option>
			      	<option value="3">3</option>
			      	<option value="4">4</option>
			      	<option value="5">5</option>
			      </select>
			    </label>
			    <label>
			      Team Number:
			      <input x-model="$store.current.matchInfo.teamNum" type="number">
			    </label>
			</form>
			<img alt="logo" width="300" height="300" :src="dark ? 'dark.svg' : 'light.svg'">
			<br>
			<button aria-label="change theme" @click="dark = !dark">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" width="50">
		  			<path x-show="dark" stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
		  			<path x-show="!dark" stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
				</svg>
			</button>
			<button aria-label="rotate field">
				<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" width="50">
				  <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
				</svg>
			</button>
		</div>
		<div class="container grid" x-show="$store.current.tab == 2">
			<div>
				<div class="grid">
					<button @click="$store.current.autoInfo.speakerCounter--">-</button>
					<div align="center">
						<h3>Auto Speaker Notes</h3>
						<h1 x-text="$store.current.autoInfo.speakerCounter"></h1>
					</div>
					<button @click="$store.current.autoInfo.speakerCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.autoInfo.speakerMissCounter--">-</button>
					<div align="center">
						<h3>Auto Speaker Miss</h3>
						<h1 x-text="$store.current.autoInfo.speakerMissCounter"></h1>
					</div>
					<button @click="$store.current.autoInfo.speakerMissCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.autoInfo.centerlineNotesCounter--">-</button>
					<div align="center">
						<h3>Auto Centerline Notes</h3>
						<h1 x-text="$store.current.autoInfo.centerlineNotesCounter"></h1>
					</div>
					<button @click="$store.current.autoInfo.centerlineNotesCounter++">+</button>
				</div>
			</div>
			<div>
				<div class="grid">
					<button @click="$store.current.autoInfo.ampCounter--">-</button>
					<div align="center">
						<h3>Auto AMP Notes</h3>
						<h1 x-text="$store.current.autoInfo.ampCounter"></h1>
					</div>
					<button @click="$store.current.autoInfo.ampCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.autoInfo.ampMissCounter--">-</button>
					<div align="center">
						<h3>Auto AMP Miss</h3>
						<h1 x-text="$store.current.autoInfo.ampMissCounter"></h1>
					</div>
					<button @click="$store.current.autoInfo.ampMissCounter++">+</button>
				</div>
				<br>
				<button @click="$store.current.autoInfo.toggleLeft = 1 - $store.current.autoInfo.toggleLeft" :class="{'red': !$store.current.autoInfo.toggleLeft}" class="wide">
					<h3>Leave</h3>
					<h1 x-text="$store.current.autoInfo.toggleLeft ? 'Yes' : 'No'"></h1>
				</button>
			</div>
		</div>
		<div class="container grid" x-show="$store.current.tab == 3">
			<div>
				<div class="grid">
					<button @click="$store.current.teleopInfo.speakerCounter--">-</button>
					<div align="center">
						<h3>Teleop Speaker Notes</h3>
						<h1 x-text="$store.current.teleopInfo.speakerCounter"></h1>
					</div>
					<button @click="$store.current.teleopInfo.speakerCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.teleopInfo.speakerMissCounter--">-</button>
					<div align="center">
						<h3>Teleop Speaker Miss</h3>
						<h1 x-text="$store.current.teleopInfo.speakerMissCounter"></h1>
					</div>
					<button @click="$store.current.teleopInfo.speakerMissCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.teleopInfo.notesPassedCounter--">-</button>
					<div align="center">
						<h3>Teleop Passed Notes</h3>
						<h1 x-text="$store.current.teleopInfo.notesPassedCounter"></h1>
					</div>
					<button @click="$store.current.teleopInfo.notesPassedCounter++">+</button>
				</div>
			</div>
			<div>
				<div class="grid">
					<button @click="$store.current.teleopInfo.ampCounter--">-</button>
					<div align="center">
						<h3>Teleop AMP Notes</h3>
						<h1 x-text="$store.current.teleopInfo.ampCounter"></h1>
					</div>
					<button @click="$store.current.teleopInfo.ampCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.teleopInfo.ampMissCounter--">-</button>
					<div align="center">
						<h3>Teleop AMP Miss</h3>
						<h1 x-text="$store.current.teleopInfo.ampMissCounter"></h1>
					</div>
					<button @click="$store.current.teleopInfo.ampMissCounter++">+</button>
				</div>
				<br>
				<div class="grid">
					<div class="grid">
						<button @click="$store.current.teleopInfo.foulCounter--">-</button>
						<div align="center">
							<h3>Fouls</h3>
							<h1 x-text="$store.current.teleopInfo.foulCounter"></h1>
						</div>
						<button @click="$store.current.teleopInfo.foulCounter++">+</button>
					</div>
					<div class="grid">
						<button @click="$store.current.teleopInfo.techCounter--">-</button>
						<div align="center">
							<h3>Techs</h3>
							<h1 x-text="$store.current.teleopInfo.techCounter"></h1>
						</div>
						<button @click="$store.current.teleopInfo.techCounter++">+</button>
					</div>
				</div>
			</div>
		</div>
		<div class="container grid" x-show="$store.current.tab == 4">
			<form>
				<div class="grid">
					<button @click="$store.current.endInfo.trapAttempted = 1 - $store.current.endInfo.trapAttempted" :class="{'off': !$store.current.endInfo.trapAttempted}" class="wide">
						<h4>Trap Attempted</h4>
						<h1 x-text="$store.current.endInfo.trapAttempted ? 'Yes' : 'No'"></h1>
					</button>
					<div class="grid">
						<button @click="$store.current.endInfo.trapResult--">-</button>
						<div align="center">
							<h4>Notes Trap</h4>
							<h1 x-text="$store.current.endInfo.trapResult"></h1>
						</div>
						<button @click="$store.current.endInfo.trapResult++">+</button>
					</div>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.endInfo.climbAttempted = 1 - $store.current.endInfo.climbAttempted; $store.current.endInfo.climbResult = 0" :class="{'off': !$store.current.endInfo.climbAttempted}" class="wide">
						<h4>Climb Attempted</h4>
						<h1 x-text="$store.current.endInfo.climbAttempted ? 'Yes' : 'No'"></h1>
					</button>
					<button @click="$store.current.endInfo.climbResult = 1 - $store.current.endInfo.climbResult; $store.current.endInfo.climbAttempted = 1" :class="{'off': !$store.current.endInfo.climbResult}" class="wide">
						<h4>Climb Result</h4>
						<h1 x-text="$store.current.endInfo.climbResult ? 'Yes' : 'No'"></h1>
					</button>
					<label>
				      Harmony?
				      <select x-model="$store.current.endInfo.harmony">
				      	<option value="0">0</option>
				      	<option value="2">2</option>
				      	<option value="3">3</option>
				      </select>
				    </label>
				</div>
				<br>
				<div class="grid">
					<button @click="$store.current.endInfo.park = 1 - $store.current.endInfo.park" :class="{'off': !$store.current.endInfo.park}" class="wide">
						<h4>Park</h4>
						<h1 x-text="$store.current.endInfo.park ? 'Yes' : 'No'"></h1>
					</button>
					<button @click="$store.current.endInfo.breakdown = 1 - $store.current.endInfo.breakdown" :class="{'red': !$store.current.endInfo.breakdown}" class="wide">
						<h4>Breakdown</h4>
						<h1 x-text="$store.current.endInfo.breakdown ? 'Yes' : 'No'"></h1>
					</button>
				</div>
				<br>
				<div class="grid">
					<label>
				      Defense Faced
				      <select x-model="$store.current.endInfo.defenseFaced">
				      	<option value="0">None</option>
				      	<option value="1">Poor</option>
				      	<option value="2">Passable</option>
				      	<option value="3">Good</option>
				      	<option value="4">Excellent</option>
				      </select>
				    </label>
				    <label>
				      Defense Played
				      <select x-model="$store.current.endInfo.defensePlayed">
				      	<option value="0">None</option>
				      	<option value="1">Poor</option>
				      	<option value="2">Passable</option>
				      	<option value="3">Good</option>
				      	<option value="4">Excellent</option>
				      </select>
				    </label>
				</div>
			</form>
			<div>
				<p>Comments?</p>
				<textarea x-model="$store.current.endInfo.comments"></textarea>
			</div>
		</div>
		<div class="container" x-data="endScreen()" x-show="$store.current.tab == 5">
			<a role="button" @click="display" :href="url" :download="filename">Display QR Code</a>
			<h1 x-text="matchLabel"></h1>
			<div x-html="image"></div>
			<br>
			<div class="grid">
				<button @click="restart">Restart Session</button>
				<label>
					Continue Scouting?
					<input x-model="continueScouting" type="checkbox">
				</label>
			</div>
		</div>
		<div class="container" x-data="dataScreen()" x-show="$store.current.tab == 6">
			<div class="grid">
				<button @click="display">Display QR Codes</button>
				<a role="button" @click="download" :href="url" download="scoutingData.txt">Download Data</a>
				<button @click="clear" class="red">Clear Data</button>
			</div>
			<br>
			<div class="grid" x-html="images"></div>
		</div>
		<h1 class="bottom" x-text="$store.current.matchInfo.teamNum"></h1>
		<script src="main.js"></script>
		<script src="qrcode.js"></script>
		<script src="alpine.js"></script>
	</body>
</html>
